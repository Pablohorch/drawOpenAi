<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Whiteboard V4</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="save-menu">
  <select id="drawing-list"></select>
  <input id="drawing-title" type="text" placeholder="Título">
  <button id="save-drawing" title="Guardar">💾</button>
</div>
<canvas id="board" width="5000" height="5000"></canvas>
<div id="actions">
  <button id="clear" title="Borrar todo">🗑</button>
  <button id="redo" title="Recuperar">↻</button>
  <button id="undo" title="Deshacer">↺</button>
</div>
<div id="toolbar">
  <button id="tool-draw" title="Pincel">🖌️</button>
  <button id="tool-rect" title="Rect\u00e1ngulo">◻️</button>
  <button id="tool-line" title="L\u00ednea">➖</button>
  <button id="tool-text" title="Texto">🅣</button>
  <button id="tool-select" title="Seleccionar">🖱️</button>
</div>
<div id="text-colors" class="color-menu">
  <button data-color="#000000" style="background:#000"></button>
  <button data-color="#ff0000" style="background:#ff0000"></button>
  <button data-color="#00ff00" style="background:#00ff00"></button>
  <button data-color="#0000ff" style="background:#0000ff"></button>
  <button data-color="#ffff00" style="background:#ffff00"></button>
  <button data-color="#ff00ff" style="background:#ff00ff"></button>
  <button data-color="#00ffff" style="background:#00ffff"></button>
  <button data-color="#ffa500" style="background:#ffa500"></button>
</div>
<script src="script.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
  let refreshing = false;
  navigator.serviceWorker.addEventListener('controllerchange', () => {
    if (refreshing) return;
    refreshing = true;
    window.location.reload();
  });
}
</script>
</body>
</html>
